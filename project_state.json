{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Saree management app with admin and user panels. Currently experiencing a critical bug where sarees added in the admin panel are not updating/reflecting in either the admin or user panel.",
  "architectural_notes": [
    "App has two panels: admin panel (for adding/managing sarees) and user panel (for viewing sarees)"
  ],
  "known_issues": [
    "Sarees added in the admin panel do not update/reflect in either the admin panel or user panel â€” sync issue between data layer and UI"
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-after-a-saree-is-added-or-updated-in-the-admin-panel-adminsarees-the-saree-list-in-the-admin-panel-must-immediately-reflect-the-change-without-requiring-a-manual-page-refresh-ensure-the-react-query-cache-for-the-sarees-query-is-properly-invalidated-and-refetched-after-every-addsaree-updatesaree-and-deletesaree-mutation-succeeds",
      "title": "After a saree is added or updated in the admin panel (AdminSarees), the saree list in the admin panel must immediately reflect the change without requiring a manual page refresh. Ensure the React Query cache for the sarees query is properly invalidated and refetched after every addSaree, updateSaree, and deleteSaree mutation succeeds.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-after-a-saree-is-added-or-updated-in-the-admin-panel-the-public-catalog-page-must-also-reflect-the-latest-saree-data-without-requiring-a-manual-page-refresh-ensure-the-sarees-query-cache-used-by-the-catalog-page-is-invalidated-and-refetched-whenever-any-saree-mutation-add-update-delete-completes-successfully",
      "title": "After a saree is added or updated in the admin panel, the public Catalog page must also reflect the latest saree data without requiring a manual page refresh. Ensure the sarees query cache used by the Catalog page is invalidated and refetched whenever any saree mutation (add, update, delete) completes successfully.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-audit-the-usequeries-ts-mutation-hooks-for-sarees-addsaree-updatesaree-deletesaree-and-ensure-their-onsuccess-callbacks-call-queryclient-invalidatequeries-with-the-correct-sarees-query-key-if-the-query-key-differs-between-admin-and-catalog-views-unify-it-or-invalidate-all-relevant-keys-also-verify-the-queryclient-is-not-configured-with-an-excessively-long-staletime-or-cachetime-that-would-prevent-refetching",
      "title": "Audit the useQueries.ts mutation hooks for sarees (addSaree, updateSaree, deleteSaree) and ensure their onSuccess callbacks call queryClient.invalidateQueries with the correct sarees query key. If the query key differs between admin and catalog views, unify it or invalidate all relevant keys. Also verify the QueryClient is not configured with an excessively long staleTime or cacheTime that would prevent refetching.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [],
  "gameProjectType": "none",
  "projectName": "KBR Silks",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}